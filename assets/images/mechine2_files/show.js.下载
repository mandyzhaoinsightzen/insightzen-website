(window.webpackJsonp=window.webpackJsonp||[]).push([[126],{136:function(t,e,n){"use strict";var r=n(0),o=n(2),i=n(1),a=n(3),c=n(39),s=n(5);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d=i.default.div.withConfig({componentId:"myqpv5-0"})(["position:relative;& > span{cursor:pointer;position:absolute;right:0;top:-35px;transition:color 0.3s;&:hover{color:",";}}"],function(t){return t.theme.palette.primary}),m=function(t){function e(){var t,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=p(this,(t=h(e)).call.apply(t,[this].concat(o)))).keywordsContainer=void 0,n.state={showButton:!1,isMore:!1},n.setKeywordsContainerRef=function(t){n.keywordsContainer=t},n.toggleMore=function(){n.setState({isMore:!n.state.isMore})},n}var n,i,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,r["Component"]),n=e,(i=[{key:"componentDidMount",value:function(){var t=this.keywordsContainer.clientHeight,e=this.props,n=e.displayRows,r=e.displayAll;t>62*n&&!r&&this.setState({showButton:!0})}},{key:"render",value:function(){var t=this.state,e=t.showButton,n=t.isMore,i=this.props,a=i.displayAll,l=i.items,u=i.platform;return r.createElement(d,null,r.createElement("div",{style:{height:n||a?"auto":"50px",overflow:"hidden",width:"100%"}},r.createElement(c.j,{ref:this.setKeywordsContainerRef},l.map(function(t,e){return r.createElement("a",{href:"/".concat(u,"/search?q=").concat(t),target:"_blank",key:e},r.createElement(o.Tag,{dotcolor:"#f0f4f5",color:"white"},t))}))),e&&r.createElement(s.v,{size:14,color:"spruce",onClick:this.toggleMore},n?"收起":"展示全部"))}}])&&u(n.prototype,i),a&&u(n,a),e}();m.defaultProps={platform:a.f.Image,displayRows:1,displayAll:!1},e.a=m},31:function(t,e,n){"use strict";n.d(e,"g",function(){return a}),n.d(e,"h",function(){return c}),n.d(e,"d",function(){return s}),n.d(e,"i",function(){return l}),n.d(e,"e",function(){return u}),n.d(e,"f",function(){return p}),n.d(e,"a",function(){return h}),n.d(e,"j",function(){return f}),n.d(e,"k",function(){return d}),n.d(e,"b",function(){return m}),n.d(e,"c",function(){return g}),n.d(e,"r",function(){return y}),n.d(e,"o",function(){return w}),n.d(e,"m",function(){return v}),n.d(e,"p",function(){return b}),n.d(e,"q",function(){return x}),n.d(e,"n",function(){return C}),n.d(e,"l",function(){return E});var r=n(1),o=n(5),i=n(2),a=Object(r.default)(i.Flex).withConfig({componentId:"yevcaq-0"})([""," margin-top:40px;"],o.y),c=Object(r.default)(i.Flex).withConfig({componentId:"yevcaq-1"})(["overflow:hidden;width:100%;& > div:last-child{flex:1;margin-left:","px;}"],function(t){return t.theme.spacing.md}),s=Object(r.default)(o.f).withConfig({componentId:"yevcaq-2"})(["position:relative;padding:","px ","px ","px;"],function(t){return t.theme.spacing.md},function(t){return t.theme.spacing.md},function(t){return t.theme.spacing.sm}),l=Object(r.default)(i.Row).withConfig({componentId:"yevcaq-3"})(["margin-bottom:8px !important;a{transition:color 0.3s;&:hover{color:",";}}"],function(t){return t.theme.palette.primary}),u=Object(r.default)(i.Col).withConfig({componentId:"yevcaq-4"})(["white-space:nowrap;text-overflow:ellipsis;overflow:hidden;font-size:14px;color:",";"],function(t){return t.theme.palette.spruce}),p=Object(r.default)(i.Col).withConfig({componentId:"yevcaq-5"})(["display:flex;width:570px;font-size:14px;line-height:24px;color:",";& span:first-child{width:70px;}& span:last-child{width:500px;}"],function(t){return t.theme.palette.spruce}),h=Object(r.default)(o.l).withConfig({componentId:"yevcaq-6"})(["position:relative;margin-top:24px;& > button{padding:0 8px;margin-right:16px;}"]),f=r.default.div.withConfig({componentId:"yevcaq-7"})(["margin-top:-8px;font-size:0;cursor:pointer;[data-icon='true']{margin-right:8px;color:",";}span{font-size:","px;color:",";vertical-align:middle;transition:color 0.3s;}&:hover{span{color:",";}}"],function(t){return t.theme.palette.frost},function(t){return t.theme.font.size.sm},function(t){return t.theme.palette.stone},function(t){return t.theme.palette.primary}),d=r.default.label.withConfig({componentId:"yevcaq-8"})(["display:flex;align-items:center;margin-top:24px;cursor:pointer;> label{padding:0;}> *:not(:first-child){margin-left:16px;}> *:nth-child(2){margin-left:24px;}> *:nth-child(3){width:240px;}> *:nth-child(4){width:84px;}> *:nth-child(5){width:40px;}"]),m=r.default.div.withConfig({componentId:"yevcaq-9"})(["margin-top:40px;button{padding:0;width:136px;}button + button{margin-left:16px;}"]),g=r.default.div.withConfig({componentId:"yevcaq-10"})(["margin-top:16px;margin-bottom:8px;font-size:0;& [data-icon='true']{color:",";margin-right:8px;}& > a{font-size:14px;color:",";vertical-align:middle;transition:color 0.3s;&:not(:last-child)::after{content:'/';margin:0 4px;color:"," !important;}&:hover{color:",";}}"],function(t){return t.theme.palette.frost},function(t){return t.theme.palette.stone},function(t){return t.theme.palette.stone},function(t){return t.theme.palette.primary}),y=Object(r.default)(i.Tabs).withConfig({componentId:"yevcaq-11"})(["justify-content:center;margin-top:0;"]),w=Object(r.default)(i.Tab).withConfig({componentId:"yevcaq-12"})(["margin:0 48px;"]),v=Object(r.default)(i.Tab).withConfig({componentId:"yevcaq-13"})(["align-self:flex-start;margin-top:8px;width:4px;height:16px;background:",";"],function(t){return t.theme.palette.daisy}),b=Object(r.default)(i.Table).withConfig({componentId:"yevcaq-14"})(["margin:24px 16px 0;width:508px;thead{font-size:","px;}tbody{tr{&:nth-child(even){background:transparent;}&:first-child td{padding-top:32px;}&:last-child td{padding-bottom:32px;border-bottom:2px solid ",";}}td{padding:16px 24px;border-bottom:0;border-color:",";&:not(:first-child){color:",";}}}"],function(t){return t.theme.font.size.md},function(t){return t.theme.palette.daisy},function(t){return t.theme.palette.daisy},function(t){return t.theme.palette.black}),x=r.default.div.withConfig({componentId:"yevcaq-15"})(["display:flex;margin:0 16px;height:64px;padding:0 24px;padding-top:16px;border:2px solid ",";border-top:0;[data-icon='true']{margin-top:4px;color:",";}p{margin-left:8px;font-size:","px;line-height:20px;span,a{vertical-align:middle;}a{font-size:","px;}}"],function(t){return t.theme.palette.daisy},function(t){return t.theme.palette.stone},function(t){return t.theme.font.size.xs},function(t){return t.theme.font.size.sm}),C=r.default.div.withConfig({componentId:"yevcaq-16"})(["margin:40px 16px 8px;text-align:right;& > div{margin-bottom:24px;font-size:","px;color:",";}strong{display:inline-block;white-space:nowrap;color:",";}"],function(t){return t.theme.font.size.lg},function(t){return t.theme.palette.spruce},function(t){return t.theme.palette.black}),E=Object(r.default)(i.Button).withConfig({componentId:"yevcaq-17"})(["padding:0;width:120px;"])},39:function(t,e,n){"use strict";n.d(e,"d",function(){return a}),n.d(e,"g",function(){return c}),n.d(e,"e",function(){return s}),n.d(e,"c",function(){return l}),n.d(e,"b",function(){return u}),n.d(e,"a",function(){return p}),n.d(e,"j",function(){return h}),n.d(e,"h",function(){return f}),n.d(e,"i",function(){return d}),n.d(e,"k",function(){return m}),n.d(e,"f",function(){return g});var r=n(1),o=n(2),i=n(5),a=Object(r.default)(o.Heading).withConfig({componentId:"sc-9e6pt0-0"})(["margin-top:64px;margin-bottom:16px;"]),c=r.default.h1.withConfig({componentId:"sc-9e6pt0-1"})(["font-size:16px;margin-bottom:24px;word-break:break-word;"]),s=Object(r.default)(o.Flex).withConfig({componentId:"sc-9e6pt0-2"})(["margin-bottom:","px;font-size:14px;color:",";a{transition:color 0.3s;&:hover{color:",";}}span + span{margin-top:8px;}> div{margin-top:8px;}"],function(t){return t.theme.spacing.md},function(t){return t.theme.palette.spruce},function(t){return t.theme.palette.primary}),l=r.default.div.withConfig({componentId:"sc-9e6pt0-3"})(["width:288px;"]),u=r.default.div.withConfig({componentId:"sc-9e6pt0-4"})(["color:",";cursor:pointer;&[data-cursor='none']{cursor:default;}span{display:inline-block;margin-left:8px;font-size:","px;color:",";vertical-align:middle;}"],function(t){return t.theme.palette.frost},function(t){return t.theme.font.size.sm},function(t){return t.theme.palette.primary}),p=Object(r.default)(i.l).withConfig({componentId:"sc-9e6pt0-5"})(["position:relative;& > button:not(:last-child){padding:11px 12px;margin-right:16px;}& > a:last-child{position:absolute;right:0;}"]),h=r.default.div.withConfig({componentId:"sc-9e6pt0-6"})(["display:flex;flex:1;flex-wrap:wrap;transition:height 0.3s ease-in;overflow:hidden;margin-right:-",";& > a{margin-right:",";margin-bottom:",";}"],function(t){return t.theme.spacing.md+"px"},function(t){return t.theme.spacing.md+"px"},function(t){return t.theme.spacing.md+"px"}),f=r.default.div.withConfig({componentId:"sc-9e6pt0-7"})(["margin:40px 0;"]),d=r.default.div.withConfig({componentId:"sc-9e6pt0-8"})(["position:relative;width:350px;height:350px;border:1px solid ",";background:rgba(255,255,255,0.3);background-image:url('//static.hellorf.com/hellorf/_next/images/placeholder.svg');background-position:center;background-repeat:no-repeat;> div{position:absolute;right:16px;bottom:16px;}"],function(t){return t.theme.palette.frost}),m=Object(r.default)(i.v).withConfig({componentId:"sc-9e6pt0-9"})(["",";"],i.B),g=r.default.div.withConfig({componentId:"sc-9e6pt0-10"})(["margin-top:0 !important;margin-left:0 !important;height:100%;cursor:pointer;> div{position:absolute;top:16px;right:16px;> div + div{margin-left:16px;}}"])},40:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),c=n(57),s=n(58),l=n(59),u=n(62),p=n(63),h=n(64),f=300,d=.7,m=function(t){return t!==1/0?t:void 0},g={position:"relative",overflow:"hidden"};function y(t,e){var n=t.cache,r=t.minCols,o=e.items,i=o.filter(function(t){return t&&n.has(t)}),a=function(t,e){var n=t.columnWidth,r=t.gutterWidth,o=t.layout,i=t.cache,a=t.minCols,c=e.width;return"horizontal"===o?l.default({gutterWidth:r,minCols:a,width:c}):s.default({cache:i,columnWidth:n,gutterWidth:r,minCols:a,width:c})}(t,e),c=a(i),u=c.length?Math.max.apply(Math,c.map(function(t){return t.top+t.height})):0,p=o.filter(function(t){return t&&!n.has(t)}).slice(0,r);return{height:u,itemsToRender:i,itemsToMeasure:p,measuringPositions:a(p),renderPositions:c}}var w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={hasPendingMeasurements:e.props.items.some(function(t){return!!t&&!e.props.cache.has(t)}),items:e.props.items,isFetching:!1,height:0,itemsToRender:[],itemsToMeasure:[],measuringPositions:[],renderPositions:[],scrollTop:0,width:void 0},e.containerHeight=0,e.containerOffset=0,e.handleResize=c.debounce(function(){e.gridWrapper&&e.setState({width:e.gridWrapper.clientWidth})},f),e.updateScrollPosition=c.throttle(function(){if(e.scrollContainer){var t=e.scrollContainer.getScrollContainerRef();t&&e.setState({scrollTop:c.getScrollPos(t)})}}),e.measureContainerAsync=c.debounce(function(){e.measureContainer()},0),e.fetchMore=function(){var t=e.props.loadItems;t&&"function"==typeof t&&e.setState({isFetching:!0},function(){return t({from:e.props.items.length})})},e.setGridWrapperRef=function(t){e.gridWrapper=t},e.setScrollContainerRef=function(t){e.scrollContainer=t},e.renderMasonryComponent=function(t,n,r){var o,i=e.props,c=i.renderItem,s=i.virtualize,l=r.top,u=r.left,p=r.width,h=r.height;if(e.props.scrollContainer){var f=e.containerHeight*d,g=e.state.scrollTop-e.containerOffset,y=g-f,w=g+e.containerHeight+f;o=!(r.top+r.height<y||r.top>w)}else o=!0;var v=a.createElement("div",{key:"item-"+n,"data-grid-item":!0,style:{top:0,left:0,position:"absolute",transition:"transform 0.2s",transform:"translateX("+u+"px) translateY("+l+"px)",WebkitTransform:"translateX("+u+"px) translateY("+l+"px)",width:m(p),height:m(h)}},a.createElement(c,{data:t,itemIdx:n,isMeasuring:!1,position:r}));return s?o&&v||null:v},e}return o(e,t),e.getDerivedStateFromProps=function(t,e){for(var n=t.items,r=t.cache,o=n.some(function(t){return t&&!r.has(t)}),i=0;i<n.length;i++){if(void 0===e.items[i])return{hasPendingMeasurements:o,items:n,isFetching:!1};if(n[i]!==e.items[i]||n.length<e.items.length)return{hasPendingMeasurements:o,items:n,isFetching:!1}}return 0===n.length&&e.items.length>0?{hasPendingMeasurements:o,items:n,isFetching:!1}:o!==e.hasPendingMeasurements?{hasPendingMeasurements:o,items:n}:null},e.prototype.componentDidMount=function(){window.addEventListener("resize",this.handleResize);var t=this.gridWrapper?this.gridWrapper.clientWidth:this.state.width;this.measureContainer();var e=this.state.scrollTop;if(null!=this.scrollContainer){var n=this.scrollContainer.getScrollContainerRef();n&&(e=c.getScrollPos(n))}this.setState({scrollTop:e,width:t})},e.prototype.componentDidUpdate=function(t,e){var n=this,r=this.props,o=r.items,a=r.cache;this.measureContainerAsync(),null!=e.width&&this.state.width!==e.width&&a.reset();var c=o.some(function(t){return!!t&&!a.has(t)});c||c!==this.state.hasPendingMeasurements||null==e.width?this.insertAnimationFrame=requestAnimationFrame(function(){var t=y(n.props,n.state);n.setState(i({hasPendingMeasurements:c},t))}):(c||e.items!==o)&&(this.insertAnimationFrame=requestAnimationFrame(function(){var t=y(n.props,n.state);n.setState(i({},t))}))},e.prototype.componentWillUnmount=function(){this.insertAnimationFrame&&cancelAnimationFrame(this.insertAnimationFrame),this.measureContainerAsync.cancel(),this.handleResize.cancel(),this.updateScrollPosition.cancel(),window.removeEventListener("resize",this.handleResize)},e.prototype.measureContainer=function(){if(this.scrollContainer){var t=this.scrollContainer.getScrollContainerRef();if(null!=t){this.containerHeight=c.getElementHeight(t);var e=this.gridWrapper;if(e instanceof HTMLElement){var n=c.getRelativeScrollTop(t);this.containerOffset=e.getBoundingClientRect().top+n}}}},e.prototype.reflow=function(){this.props.cache.reset(),this.measureContainer(),this.forceUpdate()},e.prototype.render=function(){var t,e=this,n=this.props,r=n.columnWidth,o=n.renderItem,c=n.cache,s=n.items,l=this.state,u=l.hasPendingMeasurements,f=l.height,d=l.itemsToMeasure,y=l.itemsToRender,w=l.measuringPositions,v=l.renderPositions,b=l.width;return t=null==b&&u?a.createElement("div",{style:i({height:0,width:"100%"},g),ref:this.setGridWrapperRef},s.filter(function(t){return t}).map(function(t,e){return a.createElement("div",{"data-grid-item":!0,key:e,style:{top:0,left:0,transform:"translateX(0px) translateY(0px)",WebkitTransform:"translateX(0px) translateY(0px)",width:m(r)},ref:function(e){e&&c.set(t,e.clientHeight)}},a.createElement(o,{data:t,itemIdx:e,isMeasuring:!1,position:{top:0,height:0,width:0,left:0}}))})):null==b?a.createElement("div",{style:{width:"100%"},ref:this.setGridWrapperRef}):a.createElement("div",{style:{width:"100%"},ref:this.setGridWrapperRef},a.createElement("div",{style:i({height:f,width:b},g)},y.map(function(t,n){return e.renderMasonryComponent(t,n,v[n])})),a.createElement("div",{style:i({height:"100%",width:b},g)},d.map(function(t,e){var n=y.length+e,r=w[e];return a.createElement("div",{key:"measuring-"+n,style:{visibility:"hidden",position:"absolute",top:m(r.top),left:m(r.left),width:m(r.width),height:m(r.height)},ref:function(e){e&&c.set(t,e.clientHeight)}},a.createElement(o,{data:t,itemIdx:e,isMeasuring:!1,position:r}))})),this.scrollContainer&&a.createElement(h.default,{containerHeight:this.containerHeight,fetchMore:this.fetchMore,isFetching:this.state.isFetching||this.state.hasPendingMeasurements,scrollHeight:f,scrollTop:this.state.scrollTop})),this.props.scrollContainer?a.createElement(p.default,{ref:this.setScrollContainerRef,onScroll:this.updateScrollPosition,scrollContainer:this.props.scrollContainer},t):t},e.defaultProps={columnWidth:264,cache:new u.default,minCols:4,gutterWidth:16,virtualize:!1,layout:"default"},e}(a.Component);e.default=w},43:function(t,e,n){(function(t){!function(e){var n=function(t){return o(!0===t,!1,arguments)};function r(t,e){if("object"!==i(t))return e;for(var n in e)"object"===i(t[n])&&"object"===i(e[n])?t[n]=r(t[n],e[n]):t[n]=e[n];return t}function o(t,e,o){var a=o[0],c=o.length;(t||"object"!==i(a))&&(a={});for(var s=0;s<c;++s){var l=o[s];if("object"===i(l))for(var u in l){var p=t?n.clone(l[u]):l[u];a[u]=e?r(a[u],p):p}}return a}function i(t){return{}.toString.call(t).slice(8,-1).toLowerCase()}n.recursive=function(t){return o(!0===t,!0,arguments)},n.clone=function(t){var e,r,o=t,a=i(t);if("array"===a)for(o=[],r=t.length,e=0;e<r;++e)o[e]=n.clone(t[e]);else if("object"===a)for(e in o={},t)o[e]=n.clone(t[e]);return o},e?t.exports=n:window.merge=n}("object"==typeof t&&t&&"object"==typeof t.exports&&t.exports)}).call(this,n(69)(t))},57:function(t,e,n){"use strict";var r=this;function o(){return void 0!==window.scrollY?window.scrollY:document.documentElement&&void 0!==document.documentElement.scrollTop?document.documentElement.scrollTop:0}Object.defineProperty(e,"__esModule",{value:!0}),e.throttle=function(t,e){var n,o,i;void 0===e&&(e=0);var a=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];i?(clearTimeout(n),n=setTimeout(function(){Date.now()-o>=e&&(t.apply(this,a),o=Date.now())},e-(Date.now()-o))):(t.apply(r,a),o=Date.now(),i=!0)};return a.cancel=function(){n&&clearTimeout(n)},a},e.debounce=function(t,e){var n;void 0===e&&(e=0);var o=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];clearTimeout(n),n=setTimeout(function(){return t.apply(r,o)},e)};return o.cancel=function(){n&&clearTimeout(n)},o},e.getElementHeight=function(t){return t instanceof HTMLElement?t.clientHeight:window.innerHeight},e.getWindowScrollPos=o,e.getRelativeScrollTop=function(t){return t instanceof HTMLElement?t.scrollTop-t.getBoundingClientRect().top:o()},e.getScrollHeight=function(t){return t instanceof HTMLElement?t.scrollHeight:(document.documentElement||document.body).scrollHeight},e.getScrollPos=function(t){return t instanceof HTMLElement?t.scrollTop:o()}},58:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){return void 0===e&&(e=1/0),{top:-9999,left:-9999,width:t,height:e}};e.default=function(t){var e=t.cache,n=t.columnWidth,o=t.gutterWidth,i=t.minCols,a=t.width;return function(t){if(null==a)return t.map(function(){return r(n)});var c=n+o,s=Math.max(Math.floor((a+o)/c),i),l=new Array(s).fill(0),u=Math.max(Math.floor((a-c*s+o)/2),0);return t.reduce(function(t,i){var a,s=e.get(i);if(null==s)a=r(n);else{var p=s+o,h=function(t){for(var e=0,n=0;n<t.length;n++)t[n]<t[e]&&(e=n);return e}(l),f=l[h],d=h*c+u;l[h]+=p,a={top:f,left:d,width:n,height:s}}return t.push(a),t},[])}}},59:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(60);e.default=function(t){var e=t.gutterWidth,n=t.width;return function(t){return null==n?t.map(function(){return void 0===t&&(t=1/0),{top:-9999,left:-9999,width:t,height:200};var t}):r(t.map(function(t){return parseFloat(t.aspect)}),{containerWidth:n,boxSpacing:e,targetRowHeight:200,containerPadding:0,resize:!1}).boxes}}},60:function(t,e,n){"use strict";
/*!
 * Copyright 2016 Yahoo Inc.
 * Licensed under the terms of the MIT license. Please see LICENSE file in the project root for terms.
 * @license
 */var r=n(43),o=n(61);function i(t,e){var n;return!1!==t.fullWidthBreakoutRowCadence&&(e._rows.length+1)%t.fullWidthBreakoutRowCadence==0&&(n=!0),new o({top:e._containerHeight,left:t.containerPadding.left,width:t.containerWidth-t.containerPadding.left-t.containerPadding.right,spacing:t.boxSpacing.horizontal,targetRowHeight:t.targetRowHeight,targetRowHeightTolerance:t.targetRowHeightTolerance,edgeCaseMinRowHeight:.5*t.targetRowHeight,edgeCaseMaxRowHeight:2*t.targetRowHeight,rightToLeft:!1,isBreakoutRow:n,widowLayoutStyle:t.widowLayoutStyle})}function a(t,e,n){return e._rows.push(n),e._layoutItems=e._layoutItems.concat(n.getItems()),e._containerHeight+=n.height+t.boxSpacing.vertical,n.items}t.exports=function(t,e){var n={},o={},c={containerWidth:1060,containerPadding:10,boxSpacing:10,targetRowHeight:320,targetRowHeightTolerance:.25,maxNumRows:Number.POSITIVE_INFINITY,forceAspectRatio:!1,showWidows:!0,fullWidthBreakoutRowCadence:!1,widowLayoutStyle:"left"},s={},l={};return n=r(c,e=e||{}),s.top=isNaN(parseFloat(n.containerPadding.top))?n.containerPadding:n.containerPadding.top,s.right=isNaN(parseFloat(n.containerPadding.right))?n.containerPadding:n.containerPadding.right,s.bottom=isNaN(parseFloat(n.containerPadding.bottom))?n.containerPadding:n.containerPadding.bottom,s.left=isNaN(parseFloat(n.containerPadding.left))?n.containerPadding:n.containerPadding.left,l.horizontal=isNaN(parseFloat(n.boxSpacing.horizontal))?n.boxSpacing:n.boxSpacing.horizontal,l.vertical=isNaN(parseFloat(n.boxSpacing.vertical))?n.boxSpacing:n.boxSpacing.vertical,n.containerPadding=s,n.boxSpacing=l,o._layoutItems=[],o._awakeItems=[],o._inViewportItems=[],o._leadingOrphans=[],o._trailingOrphans=[],o._containerHeight=n.containerPadding.top,o._rows=[],o._orphans=[],n._widowCount=0,function(t,e,n){var r,o,c,s=[];return t.forceAspectRatio&&n.forEach(function(e){e.forcedAspectRatio=!0,e.aspectRatio=t.forceAspectRatio}),n.some(function(n,c){if(isNaN(n.aspectRatio))throw new Error("Item "+c+" has an invalid aspect ratio");if(o||(o=i(t,e)),r=o.addItem(n),o.isLayoutComplete()){if(s=s.concat(a(t,e,o)),e._rows.length>=t.maxNumRows)return o=null,!0;if(o=i(t,e),!r&&(r=o.addItem(n),o.isLayoutComplete())){if(s=s.concat(a(t,e,o)),e._rows.length>=t.maxNumRows)return o=null,!0;o=i(t,e)}}}),o&&o.getItems().length&&t.showWidows&&(e._rows.length?(c=e._rows[e._rows.length-1].isBreakoutRow?e._rows[e._rows.length-1].targetRowHeight:e._rows[e._rows.length-1].height,o.forceComplete(!1,c)):o.forceComplete(!1),s=s.concat(a(t,e,o)),t._widowCount=o.getItems().length),e._containerHeight=e._containerHeight-t.boxSpacing.vertical,e._containerHeight=e._containerHeight+t.containerPadding.bottom,{containerHeight:e._containerHeight,widowCount:t._widowCount,boxes:e._layoutItems}}(n,o,t.map(function(t){return t.width&&t.height?{aspectRatio:t.width/t.height}:{aspectRatio:t}}))}},61:function(t,e,n){
/*!
 * Copyright 2016 Yahoo Inc.
 * Licensed under the terms of the MIT license. Please see LICENSE file in the project root for terms.
 * @license
 */
var r=n(43);(t.exports=function(t){this.top=t.top,this.left=t.left,this.width=t.width,this.spacing=t.spacing,this.targetRowHeight=t.targetRowHeight,this.targetRowHeightTolerance=t.targetRowHeightTolerance,this.minAspectRatio=this.width/t.targetRowHeight*(1-t.targetRowHeightTolerance),this.maxAspectRatio=this.width/t.targetRowHeight*(1+t.targetRowHeightTolerance),this.edgeCaseMinRowHeight=t.edgeCaseMinRowHeight,this.edgeCaseMaxRowHeight=t.edgeCaseMaxRowHeight,this.widowLayoutStyle=t.widowLayoutStyle,this.isBreakoutRow=t.isBreakoutRow,this.items=[],this.height=0}).prototype={addItem:function(t){var e,n,o,i=this.items.concat(t),a=this.width-(i.length-1)*this.spacing,c=i.reduce(function(t,e){return t+e.aspectRatio},0),s=a/this.targetRowHeight;return this.isBreakoutRow&&0===this.items.length&&t.aspectRatio>=1?(this.items.push(t),this.completeLayout(a/t.aspectRatio,"justify"),!0):c<this.minAspectRatio?(this.items.push(r(t)),!0):c>this.maxAspectRatio?0===this.items.length?(this.items.push(r(t)),this.completeLayout(a/c,"justify"),!0):(e=this.width-(this.items.length-1)*this.spacing,n=this.items.reduce(function(t,e){return t+e.aspectRatio},0),o=e/this.targetRowHeight,Math.abs(c-s)>Math.abs(n-o)?(this.completeLayout(e/n,"justify"),!1):(this.items.push(r(t)),this.completeLayout(a/c,"justify"),!0)):(this.items.push(r(t)),this.completeLayout(a/c,"justify"),!0)},isLayoutComplete:function(){return this.height>0},completeLayout:function(t,e){var n,r,o,i,a,c=this.left,s=this.width-(this.items.length-1)*this.spacing;(void 0===e||["justify","center","left"].indexOf(e)<0)&&(e="left"),t!==(r=Math.max(this.edgeCaseMinRowHeight,Math.min(t,this.edgeCaseMaxRowHeight)))?(this.height=r,n=s/r/(s/t)):(this.height=t,n=1),this.items.forEach(function(t){t.top=this.top,t.width=t.aspectRatio*this.height*n,t.height=this.height,t.left=c,c+=t.width+this.spacing},this),"justify"===e?(c-=this.spacing+this.left,o=(c-this.width)/this.items.length,i=this.items.map(function(t,e){return Math.round((e+1)*o)}),1===this.items.length?this.items[0].width-=Math.round(o):this.items.forEach(function(t,e){e>0?(t.left-=i[e-1],t.width-=i[e]-i[e-1]):t.width-=i[e]})):"center"===e&&(a=(this.width-c)/2,this.items.forEach(function(t){t.left+=a+this.spacing},this))},forceComplete:function(t,e){"number"==typeof e?this.completeLayout(e,this.widowLayoutStyle):this.completeLayout(this.targetRowHeight,this.widowLayoutStyle)},getItems:function(){return this.items}}},62:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.map=new WeakMap}return t.prototype.get=function(t){return this.map.get(t)},t.prototype.has=function(t){return this.map.has(t)},t.prototype.set=function(t,e){this.map.set(t,e)},t.prototype.reset=function(){this.map=new WeakMap},t}();e.default=r},63:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(0);function a(t){return"function"==typeof t?t():t}var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.getScrollContainerRef=function(){return e.scrollContainer},e.handleScroll=function(t){e.props.onScroll(t)},e}return o(e,t),e.prototype.componentDidMount=function(){var t=a(this.props.scrollContainer);t&&this.updateScrollContainer(t)},e.prototype.componentWillReceiveProps=function(t){var e=a(t.scrollContainer);e&&e!==this.scrollContainer&&this.updateScrollContainer(e)},e.prototype.componentWillUnmount=function(){this.scrollContainer&&this.scrollContainer.removeEventListener("scroll",this.handleScroll)},e.prototype.updateScrollContainer=function(t){this.scrollContainer&&this.scrollContainer.removeEventListener("scroll",this.handleScroll),this.scrollContainer=t,this.scrollContainer.addEventListener("scroll",this.handleScroll)},e.prototype.render=function(){return i.Children.only(this.props.children)},e}(i.Component);e.default=c},64:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.check=function(){var t=e.props,n=t.containerHeight,r=t.isAtEnd,o=t.isFetching,i=t.fetchMore,a=t.scrollHeight,c=t.scrollTop;r||o||!i||c+3*n>a&&i()},e}return o(e,t),e.prototype.componentDidMount=function(){setTimeout(this.check)},e.prototype.componentDidUpdate=function(){this.check()},e.prototype.render=function(){return null},e}(n(0).PureComponent);e.default=i},74:function(t,e,n){"use strict";var r=n(0),o=n(2),i=n(1),a=n(5),c=i.default.div.withConfig({componentId:"sc-1mcyq3e-0"})(["display:flex;flex:auto;align-self:stretch;align-items:center;justify-content:center;position:relative;"]),s=Object(i.keyframes)(["0%{opacity:0;}99%{opacity:0;}100%{opacity:1}"]),l=(i.default.div.withConfig({componentId:"sc-1mcyq3e-1"})(["width:100%;height:100%;display:flex;justify-content:center;margin-top:32px;animation-duration:1s;animation-fill-mode:forwards;animation-iteration-count:1;animation-timing-function:ease-out;animation-name:",";"],s),Object(i.keyframes)(["0%{transform:translateX(-100%) translateY(0%);background-size:100%;opacity:1;}100%{transform:translateX(200%) translateY(0%);background-size:500%;opacity:0;}"])),u=i.default.section.withConfig({componentId:"sc-1mcyq3e-2"})(["width:100%;height:100%;position:relative;z-index:",";background:#f5f8fc;overflow:hidden;"],a.C.loading),p=i.default.span.withConfig({componentId:"sc-1mcyq3e-3"})(["width:100%;height:100%;position:absolute;z-index:",";animation-duration:2.5s;animation-fill-mode:forwards;animation-iteration-count:infinite;animation-timing-function:ease-in-out;background:linear-gradient(to right,#f5f8fc 10%,"," 20%,#f5f8fc 30%);animation-name:",";"],a.C.loading+1,Object(a.z)("#E6ECF7",.65),l),h=i.default.div.withConfig({componentId:"sc-1mcyq3e-4"})(["width:100%;height:123px;&[data-type='atlas'] > section{border-radius:0 16px 16px 0;}"]),f=n(6),d=n(40),m=n.n(d);n.d(e,"a",function(){return g}),n.d(e,"c",function(){return y}),n.d(e,"b",function(){return w});var g=function(t){var e=t.size,n=t.color;return r.createElement(c,null,r.createElement(o.Spinner,{size:e,color:n}))},y=function(t){var e=t.type,n=void 0===e?"default":e;return r.createElement(h,{"data-type":n},r.createElement(u,null,r.createElement(p,null)))},w=function(t){var e=t.randomCount,n=Array(e||10).fill(0).map(function(){return{aspect:Object(f.x)(.5,2)}});return r.createElement(m.a,{items:n,renderItem:function(t){var e=t.position;return r.createElement(u,{style:{height:e.height}},r.createElement(p,null))}})}},861:function(t,e,n){__NEXT_REGISTER_PAGE("/image/show",function(){return t.exports=n(935),{page:t.exports.default}})},935:function(t,e,n){"use strict";n.r(e);var r,o,i=n(8),a=n.n(i),c=n(0),s=n(41),l=n.n(s),u=n(20),p=n.n(u),h=n(4),f=n(140),d=n.n(f),m=n(40),g=n.n(m),y=n(2),w=n(21),v=n(26),b=n(35),x=n(15),C=n(6),E=n(14),_=n(95),S=n(34),O=n(241),k=n(7),j=n(3),I=n(1),P=n(5),z=I.default.div.withConfig({componentId:"syag50-0"})(["span{display:inline-block;&:nth-child(2){margin-left:24px;}&:nth-child(3){margin-left:40px;font-size:","px;}}"],function(t){return t.theme.font.size.sm}),R=I.default.p.withConfig({componentId:"syag50-1"})(["margin:24px 0 8px;line-height:26px;"]),T=I.default.div.withConfig({componentId:"syag50-2"})(["position:absolute;top:20px;left:24px;font-size:0;cursor:pointer;[data-icon='true']{margin-right:8px;color:",";}span{font-size:","px;color:",";vertical-align:middle;transition:color 0.3s;}&:hover{span{color:",";}}"],function(t){return t.theme.palette.frost},function(t){return t.theme.font.size.sm},function(t){return t.theme.palette.stone},function(t){return t.theme.palette.primary}),H=Object(I.default)(y.Tabs).withConfig({componentId:"syag50-3"})(["justify-content:center;margin-top:-8px;margin-bottom:","px;"],function(t){return t.theme.spacing.lg}),M=Object(I.default)(y.Tab).withConfig({componentId:"syag50-4"})(["margin:0 50px;"]),A=I.default.div.withConfig({componentId:"syag50-5"})(["display:inline-block;margin:4px 24px;width:4px;height:20px;background:",";"],function(t){return t.theme.palette.daisy}),L=Object(I.default)(P.l).withConfig({componentId:"syag50-6"})(["margin-top:24px;cursor:pointer;label{padding:0;}& > *:not(:first-child){margin-left:40px;}"]),F=Object(I.default)(P.l).withConfig({componentId:"syag50-7"})(["margin-top:40px;margin-bottom:8px;position:relative;& > button{margin-right:","px;}& > button:first-of-type{width:175px;padding-left:0;padding-right:0;}& > button:last-of-type{width:136px;padding-left:0;padding-right:0;}& > [data-icon='true']{color:",";}"],function(t){return t.theme.spacing.md},function(t){return t.theme.palette.frost}),W=I.default.div.withConfig({componentId:"syag50-8"})(["color:",";font-size:","px;position:absolute;right:0;top:50%;transform:translateY(-50%);transition:color 0.3s;& > span{height:20px;line-height:20px;position:relative;}& [data-icon='true']{position:absolute;top:0;bottom:0;margin:auto;}& > *:not(:last-child)::after{content:'/';margin:0 4px;color:"," !important;}& > *:hover{color:",";}"],function(t){return t.theme.palette.stone},function(t){return t.theme.font.size.sm},function(t){return t.theme.palette.stone},function(t){return t.theme.palette.primary}),q=I.default.img.withConfig({componentId:"syag50-9"})(["position:absolute;left:100%;top:4px;margin-left:4px;width:54px;"]);function D(t){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function N(t,e,n,r,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}function B(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){N(i,r,o,a,c,"next",t)}function c(t){N(i,r,o,a,c,"throw",t)}a(void 0)})}}function U(t,e){return!e||"object"!==D(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Y(t){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function X(t,e,n){return e&&G(t.prototype,e),n&&G(t,n),t}function V(t,e){return(V=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function J(t,e,n,r,o){var i={};return Object.keys(r).forEach(function(t){i[t]=r[t]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var K,Z=Object(k.b)("purchaseStore","toastStore","modalStore","userStore","imageStore")(r=Object(k.c)((J((o=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=U(this,Y(e).call(this,t))).state={isAdding:!1,isPurchasing:!1},n.handleAddToCart=Object(x.a)(function(t){var e=n.props,r=e.id,o=e.toastStore,i=e.imageStore,a={clientX:t.clientX,clientY:t.clientY};n.setState({isAdding:!0}),n.purchaseStore.addToImageCart(r).then(function(){Object(C.a)(a),n.setState({isAdding:!1}),1===n.type?i.addInNormalCart():i.addInExtCart(),o.addToast({id:"addToImageCart",message:"加入下载清单成功"})}).catch(function(){n.setState({isAdding:!1})})},"图片详情加入清单"),n.handleDownload=Object(x.a)(B(a.a.mark(function t(){var e,r,o,i,s,l,u;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.props,r=e.id,o=e.detail,n.setState({isPurchasing:!0}),t.prev=2,t.next=5,n.purchaseStore.checkImageBeforePurchase(r,n.type);case 5:i=t.sent,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),i=t.t0;case 11:if(s=!1,!i){t.next=30;break}if(!i.code){t.next=20;break}t.t1=i.code,t.next=5===t.t1?17:19;break;case 17:return n.props.userStore.downloadImage(i.purchase_id,n.size).then(function(t){if(t&&t.url){var e="/image/download/single?url=".concat(encodeURIComponent(t.url),"&ispurchased=true"),a=o.assets.filter(function(t){return 1===n.type||2===t._type}).find(function(t){return t.size===n.size});window.sessionStorage.setItem("order",JSON.stringify({id:r,type:n.type,size:n.size,url:o.image.preview260_url,aspect:o.image.aspect,asset:a,date:i.date})),p.a.push(e,e,{shallow:!1})}}),t.abrupt("return");case 19:return t.abrupt("return");case 20:if(!i.result){t.next=26;break}return s=!0,t.next=24,n.props.purchaseStore.getImageUsablePackages(n.type);case 24:t.next=30;break;case 26:if(!i.data||2!==i.data.code){t.next=29;break}return n.props.toastStore.addToast({id:"no-available-package",message:["您的该授权下被分配下载数量已使用完",c.createElement("br",{key:"1"}),"如需继续下载，请联系主账号"]}),t.abrupt("return",n.setState({isPurchasing:!1}));case 29:s=!1;case 30:n.setState({isPurchasing:!1}),s?(l="/image/license?id=".concat(r,"&type=").concat(n.type,"&size=").concat(n.size),u=o.assets.filter(function(t){return n.type===j.c.Standard||t._type===j.c.Enhanced}).find(function(t){return t.size===n.size}),window.sessionStorage.setItem("order",JSON.stringify({title:o.image.title,authorId:o.image.author_id,copyright:o.image.copyright,url:o.image.preview260_url,aspect:o.image.aspect,asset:u})),setTimeout(function(){return p.a.push(l,l,{shallow:!0})},0)):n.props.modalStore.show("PACKAGE_MODAL",{id:r,detail:o});case 32:case"end":return t.stop()}},t,this,[[2,8]])})),"图片详情下载图片"),n.handleDownloadFree=Object(x.a)(B(a.a.mark(function t(){var e,r,o,i,c,s;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.props.userStore.getUserInfo();case 2:e=n.props,r=e.id,o=e.userStore,i=e.purchaseStore,c=e.modalStore,s=function(){i.downloadImageFree(r,n.size).then(function(t){Object(C.d)(t.url)}).catch(function(t){console.error("error in downloadImageFree",t)}),n.setState({isPurchasing:!1})},o.currentUser.is_perfect?(n.setState({isPurchasing:!0}),s()):c.show("COMPLETE_INFORMATION_MODAL",{onSuccess:function(){n.setState({isPurchasing:!0}),s()}});case 5:case"end":return t.stop()}},t,this)})),"图片详情下载免费图片"),n.initSize=function(){var t=n.props.detail;if(t.assets.length>0){var e=1===n.type?t.assets[0].size:t.assets.filter(function(t){return t._type===n.type})[0].size;n.purchaseStore.setValue("size",e)}},n.handleLicenseChange=function(t){var e=t.target.getAttribute("data-id");n.purchaseStore.setValue("type",parseInt(e,10)),n.initSize()},n.handleSizeChange=function(t){n.purchaseStore.setValue("size",t)},n.handleChat=function(){window.zhiManager&&window.zhiManager.expand()},n.initSize(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&V(t,e)}(e,c["Component"]),X(e,[{key:"purchaseStore",get:function(){return this.props.purchaseStore}},{key:"currentUser",get:function(){return this.props.userStore.currentUser}},{key:"type",get:function(){return this.purchaseStore.type}},{key:"size",get:function(){return this.purchaseStore.size}},{key:"plusOnly",get:function(){return this.props.detail.image.plus_only}},{key:"stInCart",get:function(){return!!this.currentUser&&this.props.detail.image.is_in_cart_normal}},{key:"ehInCart",get:function(){return!!this.currentUser&&this.props.detail.image.is_in_cart_ext}},{key:"disabled",get:function(){return 1===this.type?this.stInCart:this.ehInCart}}]),X(e,[{key:"render",value:function(){var t=this,e=this.props.detail,n=this.state,r=n.isAdding,o=n.isPurchasing,i=e.assets.filter(function(e){return 1===t.type||2===e._type});return this.plusOnly?c.createElement(c.Fragment,null,c.createElement(z,null,c.createElement("span",null,c.createElement("strong",null,"尺寸：")),"eps"===i[0].format?c.createElement("span",null,c.createElement("strong",null,"可随意缩小且不影响画质")):c.createElement(c.Fragment,null,c.createElement("span",null,c.createElement("strong",null,"".concat(i[0].width," x ").concat(i[0].height))),c.createElement("span",null,"".concat(i[0].width_cm," cm x ").concat(i[0].height_cm," cm (").concat(i[0].dpi,"dpi)")))),c.createElement(R,null,"站酷海洛PLUS精品素材",c.createElement("br",null),"如购买该素材请",c.createElement("a",{className:"link",href:"//plus.hellorf.com/",target:"_blank"},"了解PLUS产品"),"或",c.createElement("span",{className:"link zhiCustomBtn",onClick:this.handleChat},"咨询在线客服"))):c.createElement(c.Fragment,null,c.createElement(T,{onClick:function(){return t.props.modalStore.show("CHOOSE_AUTHORIZE_MODAL",{platform:"image"})}},c.createElement(y.Icon,{glyph:"question",size:16}),c.createElement("span",null,"如何选择")),c.createElement(H,null,c.createElement(M,{selected:1===this.type,"data-id":1,onClick:this.handleLicenseChange},"标准授权",e.image.free&&c.createElement(q,{src:"//static.hellorf.com/hellorf/_next/images/free-image-tag.png","data-id":1})),c.createElement(A,null),c.createElement(M,{selected:2===this.type,"data-id":2,onClick:this.handleLicenseChange},"扩展授权")),i.map(function(e,n){return c.createElement(L,{key:"asset-".concat(n),onClick:function(){return t.handleSizeChange(e.size)}},c.createElement(y.Checkbox,{checked:t.size===e.size,onChange:function(){return t.handleSizeChange(e.size)}}),c.createElement(y.Badge,{pill:!0,color:"eps"===e.format?"black":"secondary"},e.format.toUpperCase()),c.createElement("span",null,c.createElement("strong",null,e.size_name)),"eps"===e.format?c.createElement("span",null,c.createElement("strong",null,"可随意缩小且不影响画质")):c.createElement(c.Fragment,null,c.createElement("span",{style:{minWidth:105}},c.createElement("strong",null,"".concat(e.width," x ").concat(e.height))),c.createElement("span",{style:{fontSize:"14px"}},"".concat(e.width_cm," cm x ").concat(e.height_cm," cm (").concat(e.dpi,"dpi)"))))}),c.createElement(F,null,e.image.free&&1===this.type?c.createElement(y.Button,{type:"primary",size:"md",loading:o,onClick:this.handleDownloadFree},"免费获取授权"):c.createElement(y.Button,{type:"primary",size:"md",loading:o,onClick:this.handleDownload},"立刻下载正片"),c.createElement(y.Button,{size:"md",loading:r,disabled:e.image.free&&1===this.type||this.disabled,onClick:this.handleAddToCart},this.disabled?"已加入":"加入清单"),c.createElement(y.Icon,{glyph:"question",size:16}),c.createElement(W,null,c.createElement(P.v,null,c.createElement("a",{href:"/help/questions?category_id=4",target:"_blank"},"授权")),c.createElement(P.v,null,c.createElement("a",{href:"/help/questions?category_id=8&question_id=26",target:"_blank"},"授权书")),c.createElement(P.v,null,c.createElement("a",{href:"/help/questions?category_id=8&question_id=25",target:"_blank"},"发票")),c.createElement(P.v,null,c.createElement("a",{href:"/help/questions?category_id=8&question_id=26",target:"_blank"},"合同问题")))))}}]),e}()).prototype,"purchaseStore",[h.e],Object.getOwnPropertyDescriptor(o.prototype,"purchaseStore"),o.prototype),J(o.prototype,"currentUser",[h.e],Object.getOwnPropertyDescriptor(o.prototype,"currentUser"),o.prototype),J(o.prototype,"type",[h.e],Object.getOwnPropertyDescriptor(o.prototype,"type"),o.prototype),J(o.prototype,"size",[h.e],Object.getOwnPropertyDescriptor(o.prototype,"size"),o.prototype),J(o.prototype,"plusOnly",[h.e],Object.getOwnPropertyDescriptor(o.prototype,"plusOnly"),o.prototype),J(o.prototype,"stInCart",[h.e],Object.getOwnPropertyDescriptor(o.prototype,"stInCart"),o.prototype),J(o.prototype,"ehInCart",[h.e],Object.getOwnPropertyDescriptor(o.prototype,"ehInCart"),o.prototype),J(o.prototype,"disabled",[h.e],Object.getOwnPropertyDescriptor(o.prototype,"disabled"),o.prototype),r=o))||r)||r,Q=n(136),$=n(74),tt=n(39),et=n(31);function nt(t){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rt(t,e,n,r,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}function ot(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){rt(i,r,o,a,c,"next",t)}function c(t){rt(i,r,o,a,c,"throw",t)}a(void 0)})}}function it(t,e){return!e||"object"!==nt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function at(t){return(at=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ct(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function st(t,e,n){return e&&ct(t.prototype,e),n&&ct(t,n),t}function lt(t,e){return(lt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ut(t,e,n,r,o){var i={};return Object.keys(r).forEach(function(t){i[t]=r[t]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var pt=(ut((K=function(t){var e;function n(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(e=it(this,at(n).call(this,t))).state={isHovering:!1,isLoading:!0,isCropperLoading:!1,showCropper:!1},e.handleCollect=Object(x.a)(function(){e.hasFavorite?e.props.userStore.cancelbyCollection(e.props.id).then(function(t){var n=t.message||"取消收藏失败";t&&t.result&&(e.props.imageStore.setFavorite(!1),n="已取消"),e.props.toastStore.addToast({id:"cancel-by",message:n})}):e.props.modalStore.show("COLLECT_MODAL",{id:e.props.id,platform:"image",onSuccess:function(){return e.props.imageStore.setFavorite(!0)}})},"图片详情收藏图片"),e.handleCopy=function(){d()(location.href),e.props.toastStore.addToast({id:"copy",message:"复制成功"})},e.renderItem=function(t){var e=t.data,n=t.position,r=e.id,o=e.author_id,i=e.preview260_url,a=e.title,s=e.aspect;return c.createElement(S.a,{id:r,contributorId:o,src:i,height:n.height,alt:a,aspect:s,showToolBar:!0,onClick:function(){return Object(v.b)({yijirukou_evar:"详情页推荐位点击",erjirukou_evar:"类似图片"})}})},e.crop=function(){var t=ot(a.a.mark(function t(n,r,o,i){var c,s;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({isCropperLoading:!0}),t.next=3,e.props.searchStore.getSearchGraph({url:e.image.preview_url,x:n,y:r,w:o,h:i});case 3:if(!(c=t.sent)){t.next=7;break}return s="/image/search-graph?file=".concat(encodeURIComponent(c),"&aspect=").concat(e.image.aspect,"&x=").concat(n,"&y=").concat(r,"&w=").concat(o,"&h=").concat(i),t.abrupt("return",p.a.push(s,s,{shallow:!1}));case 7:e.setState({isCropperLoading:!1});case 8:case"end":return t.stop()}},t,this)}));return function(e,n,r,o){return t.apply(this,arguments)}}(),e.imageStore.setValue("detail",t.detail),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lt(t,e)}(n,c["Component"]),st(n,null,[{key:"getInitialProps",value:(e=ot(a.a.mark(function t(e,n){var r,o,i,c,s,l,u,p;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.query,o=e.req,i=r.source,c=r.utm_source,s=r.term,l=r.id,l=parseInt(l,10),!Number.isNaN(l)){t.next=7;break}return t.abrupt("return",{error:"NO_RESULTS"});case 7:return u=Object(C.h)(o),t.next=10,n.imageStore.getImageById(l,c||i,s,u);case 10:if((p=t.sent).image){t.next=15;break}if(!p.message){t.next=14;break}return t.abrupt("return",{error:"NO_RESULTS",message:p.message});case 14:return t.abrupt("return",{error:"NO_RESULTS"});case 15:return t.abrupt("return",{detail:p,id:l});case 16:case"end":return t.stop()}},t,this)})),function(t,n){return e.apply(this,arguments)})}]),st(n,[{key:"componentDidMount",value:function(){var t=this,e=this.props,n=e.id,r=e.detail,o=[this.imageStore.getSimilarAll(this.props.id,1)];window.localStorage.getItem("isHoveringInImageShow")||(this.setState({isHovering:!0}),window.localStorage.setItem("isHoveringInImageShow","true")),r.image.author_id&&o.push(this.props.contributorStore.getSameAuthor(r.image.author_id,n)),Promise.all(o).then(function(){t.setState({isLoading:!1})}),Object(C.v)({src:"https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.4.1/cropper.css",id:"cropperjs-css",type:"css"}),Object(v.c)({pictureid_pvar:n,picturename_pvar:this.image.title,pictureauthor_pvar:this.image.copyright}),Object(v.f)("picturedetail")}},{key:"handleOpenPreview",value:function(t){this.props.modalStore.show("PREVIEW_MODAL",t)}},{key:"render",value:function(){var t=this,e=this.state,n=e.isHovering,r=e.isCropperLoading,o=e.showCropper,i=this.props.id,a=this.image,s=a.preview_url,u=a.origin,p=a.aspect,h=a.title,f=a.author_id,d=a.copyright,m=a.image_type,x=a.is_editorial,E=a.tiff_size,k=a.is_special_editorial,j=a.purpose,I=a.keywords,z=void 0===I?[]:I,R=Object(C.y)(h);return c.createElement(c.Fragment,null,c.createElement(l.a,null,c.createElement("title",null,R," - ",w.g)),c.createElement(et.g,{direction:"column",halign:"stretch"},c.createElement(et.h,null,c.createElement(S.a,{lazyload:!1,showToolBar:!0,fixLayout:!0,fixLayoutPosition:"top",forceWide:!0,width:450,src:s,aspect:p,alt:R,toolbarStyle:{top:0,left:0,right:0,bottom:0,opacity:1},toolbar:c.createElement(tt.f,{onClick:function(){return t.handleOpenPreview({previewUrl:u,aspect:p})}},c.createElement("div",null,c.createElement(y.Tooltip,{overlayClassName:"tooltip__icon",overlayReset:!0,placement:"top",title:c.createElement("span",null,"查看大图")},c.createElement(P.i,{shadow:!0,"data-growing-container":!0,onClick:function(){return t.handleOpenPreview({previewUrl:u,aspect:p})}},c.createElement(y.Icon,{glyph:"zoom-in",size:16}))),c.createElement(y.Tooltip,{overlayClassName:"tooltip__icon",overlayReset:!0,placement:"top",title:c.createElement("span",null,"以图搜图"),defaultHovering:n},c.createElement(P.i,{shadow:!0,"data-growing-container":!0,onClick:function(e){e.stopPropagation(),t.setState({showCropper:!0})}},c.createElement(y.Icon,{glyph:"camera",size:16})))))}),o&&c.createElement(O.a,{style:{position:"absolute",width:450,height:450,background:"#f0f4f5"},isLoading:r,src:s,width:450,aspect:p,crop:this.crop,cancel:function(){return t.setState({showCropper:!1})}}),c.createElement(y.Flex,{direction:"column",halign:"stretch"},c.createElement(et.d,null,c.createElement(tt.g,null,R),c.createElement(tt.e,{direction:"column"},c.createElement(P.v,null,"编号：".concat(i)),x?null:c.createElement(P.v,null,"版权：",c.createElement("a",{href:"/image/contributor/".concat(f),target:"_blank"},d)),c.createElement(P.v,null,"vector"===m?"格式：矢量图 可以任您放大或缩小尺寸也不会失去图像解像度":"格式：JPG 大图可转换成tiff文件大小约：".concat(E)),1===j?c.createElement(tt.b,{"data-cursor":"none"},c.createElement(y.Icon,{glyph:"question",size:16}),c.createElement("span",null,"仅限编辑用途。禁止将该图片用于商业用途")):c.createElement(y.Tooltip,{placement:"bottom-start",title:c.createElement(tt.c,null,"商业用途指购买了该图片的使用权，这些图片可以被使用在商业/广告用途")},c.createElement(tt.b,null,c.createElement(y.Icon,{glyph:"question",size:16}),c.createElement("span",null,"商业用途",2===j?"（模特授权书存在站酷海洛）":null)))),c.createElement(tt.a,null,c.createElement(y.Button,{size:"sm",icon:this.hasFavorite?"collected":"collect",onClick:this.handleCollect},this.hasFavorite?"取消收藏":"收藏本图"),c.createElement(y.Button,{size:"sm",icon:"copy",onClick:this.handleCopy},"复制本图网址"),!k&&c.createElement("a",{href:"".concat(b.e,"/").concat(i),target:"_blank"},c.createElement(y.Button,{icon:"edit"},"编辑图片")))),c.createElement("hr",null),c.createElement(et.d,null,c.createElement(Z,{id:i,detail:this.detail})))),this.state.isLoading?c.createElement(y.Flex,{style:{minHeight:200}},c.createElement($.a,null)):c.createElement(c.Fragment,null,this.sameAuthor&&this.sameAuthor.length>0&&c.createElement(c.Fragment,null,c.createElement(tt.d,{size:2,style:{marginBottom:4}},c.createElement("strong",null,"查看作者其他作品")),c.createElement(y.Flex,{halign:"space-between"},c.createElement(P.v,{mt:"4",mb:"16",color:"spruce"},"图片作者：".concat(d)),c.createElement(tt.k,{mt:"4",mb:"16",color:"spruce"},c.createElement("a",{href:"/image/contributor/".concat(f),target:"_blank",onClick:function(){return Object(v.b)({yijirukou_evar:"详情页推荐位点击",erjirukou_evar:"查看更多作者其他作品"})}},c.createElement(y.Icon,{glyph:"more",size:10}),c.createElement("span",null,"查看全部")))),c.createElement(_.a,{showToolBar:!0,items:this.sameAuthor,rows:1,onClick:function(){return Object(v.b)({yijirukou_evar:"详情页推荐位点击",erjirukou_evar:"作者其他作品"})}})),this.similar&&this.similar.length>0&&c.createElement(c.Fragment,null,c.createElement(y.Flex,{halign:"space-between",valign:"flex-end"},c.createElement(tt.d,{size:2},c.createElement("strong",null,"查看类似图片")),c.createElement(tt.k,{mb:"16",color:"spruce",style:{cursor:"pointer"}},c.createElement("a",{href:"/image/similar/".concat(i),target:"_blank",onClick:function(){return Object(v.b)({yijirukou_evar:"详情页推荐位点击",erjirukou_evar:"查看更多类似图片"})}},c.createElement(y.Icon,{glyph:"more",size:10}),c.createElement("span",null,"查看全部")))),c.createElement(g.a,{items:this.similar,renderItem:this.renderItem,layout:"horizontal"}))),c.createElement(tt.d,{size:2},c.createElement("strong",null,"相关关键词")),c.createElement(Q.a,{items:z})))}},{key:"imageStore",get:function(){return this.props.imageStore}},{key:"similar",get:function(){var t=this.imageStore.allSimilar;return t&&t.data&&t.data.slice?t.data:[]}},{key:"detail",get:function(){return this.imageStore.detail}},{key:"sameAuthor",get:function(){return this.props.contributorStore.sameAuthor}},{key:"image",get:function(){return this.detail.image}},{key:"hasFavorite",get:function(){return!!this.props.userStore.currentUser&&this.image.has_favorite}}]),n}()).prototype,"imageStore",[h.e],Object.getOwnPropertyDescriptor(K.prototype,"imageStore"),K.prototype),ut(K.prototype,"similar",[h.e],Object.getOwnPropertyDescriptor(K.prototype,"similar"),K.prototype),ut(K.prototype,"detail",[h.e],Object.getOwnPropertyDescriptor(K.prototype,"detail"),K.prototype),ut(K.prototype,"sameAuthor",[h.e],Object.getOwnPropertyDescriptor(K.prototype,"sameAuthor"),K.prototype),ut(K.prototype,"image",[h.e],Object.getOwnPropertyDescriptor(K.prototype,"image"),K.prototype),ut(K.prototype,"hasFavorite",[h.e],Object.getOwnPropertyDescriptor(K.prototype,"hasFavorite"),K.prototype),K);e.default=Object(E.a)(pt,{search:!0})},95:function(t,e,n){"use strict";var r=n(0),o=n(34),i=n(1).default.div.withConfig({componentId:"va5gkk-0"})(["display:flex;flex-wrap:wrap;width:100%;"]);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"a",function(){return h});var h=function(t){function e(){var t,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=l(this,(t=u(e)).call.apply(t,[this].concat(o)))).state={content:null},n.wrapper=null,n}var n,a,h;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(e,r["Component"]),n=e,(a=[{key:"componentDidMount",value:function(){this.renderItems(this.props.items)}},{key:"componentWillUpdate",value:function(t){t.items!==this.props.items&&this.renderItems(t.items)}},{key:"computedTotalAspect",value:function(t){return t.reduce(function(t,e){return t+e.aspect},0)}},{key:"computedHeight",value:function(t,e){var n=this.props.gutter;return(this.wrapper.clientWidth-n*(e-1))/t}},{key:"renderItem",value:function(t,e){var n=this,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=this.props,c=a.gutter,s=a.onClick;return t.map(function(t,a){var l={marginLeft:0===a?0:c+"px"};return i||(l.marginTop=c+"px"),r.createElement("div",{style:l,key:"".concat(t.id,"-").concat(a)},r.createElement(o.a,{id:t.id,src:t.cover||t.preview260_url,width:e*t.aspect,aspect:t.aspect,lazyload:n.props.lazyload,showToolBar:n.props.showToolBar,onClick:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){s&&s()})}))})}},{key:"renderItems",value:function(t){for(var e=this.props,n=e.minHeight,r=e.maxHeight,o=c(t),i=1,a=[];o.length>0&&!(i>this.props.rows);){var s=o.length<=this.props.cols,l=o.length>=this.props.cols?this.props.cols:o.length,u=o.slice(0,l),p=this.computedTotalAspect(u),h=this.computedHeight(p,l);h>r?s?h=(n+r)/2:(l+=1,u=o.slice(0,l),p=this.computedTotalAspect(u),h=this.computedHeight(p,l)):h<n&&(l-=1,u=o.slice(0,l),p=this.computedTotalAspect(u),h=this.computedHeight(p,l)),a=a.concat(this.renderItem(u,h,!(i>1))),o.splice(0,l),i++}this.setState({content:a})}},{key:"render",value:function(){var t=this;return r.createElement(i,{ref:function(e){return t.wrapper=e}},this.state.content)}}])&&s(n.prototype,a),h&&s(n,h),e}();h.defaultProps={cols:5,gutter:24,minHeight:130,maxHeight:150,lazyload:!0,showToolBar:!1}}},[[861,1,0]]]);